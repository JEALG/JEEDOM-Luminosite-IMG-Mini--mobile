<div style="padding:0;width:60px;min-height:70px;" class="cmd tooltips cmd-widget cursor container-fluid #history# " data-type="info" data-subtype="numeric" data-cmd_id="#id#" data-cmd_uid="#uid#" data-eqLogic_id="#eqLogic_id#" data-eqLogic_id="#eqLogic_id#" title="#collectDate#">
    <!-- Info Widget
        Basé sur les widget de 	: snapnick
        Mise à jour             : JAG 20190518 : Nettoyage du code
	-->
    <div class="row">
        <center>
            <div class="cmdName" id="cmdName#id#" style="font-weight: bold;font-size : 10px; #hideCmdName#;">#name_display# </div>
          	<div style="margin-top:-5px;" class="iconCmd#id#"></div>
            <div class="value#id# timeCmd label label-default value"></div>
            <!-- Historique -->
                <div class="cmdStats #hide_history#" style="#displayHistory# font-weight: bold;font-size : 10px;">
                    <span title="Min" class="tooltips">#minHistoryValue#</span>|<span title="Moy" class="tooltips">#averageHistoryValue#</span>|<span title="Max" class="tooltips">#maxHistoryValue#</span> <i class="#tendance#"></i>
                </div>
        </center>
    </div>
    <script>
        jeedom.cmd.update['#id#'] = function(_options){
            // Options de personnalisation avec valeur par defaut
                // Paramètre "sizehw" : à déclarer en pixels - 80 maxi
                    var srcImgHeight_M  = (is_numeric('#sizeh-M#')) ? parseFloat('#sizeh-M#') : 30;
                    var srcImgWidth_M   = (is_numeric('#sizew-M#')) ? parseFloat('#sizew-M#') : 30;
                // Paramétrage Niveau
                    var level_1_M       = (is_numeric('#level_1-M#')) ? parseFloat('#level_1-M#') : 20;
                    var level_2_M       = (is_numeric('#level_2-M#')) ? parseFloat('#level_2-M#') : 100.0;
                // Paramétrage des images
                    var srcImgURL_M     = 'plugins/widget/core/template/mobile/cmd.info.numeric.Luminosite-IMG-Mini/';
                // Paramètrage du logo Erreur
                    var srcImglogoER_M  = ('#logo_error-M#'!='#'+'logo_error-M#') ? "#logo_error-M#" : "error";
                    var srcImglogoER_M_T= ('#logoER_type-M#'!='#'+'logoER_type-M#') ? "#logoER_type-M#" : "png";

            // Update
                    var srcPictureID;
                    var State           = parseFloat(_options.display_value);	
                if (State < level_1_M){
                    srcPictureID = 'moon';
                } else if (State >= level_1_M && State < level_2_M){
                    srcPictureID = 'cloud';
                } else if (State >= level_2_M){
                    srcPictureID = 'sun';
                } else {
                    srcPictureID = 'error';
                }
            // Update IMG + gestion erreur
                if (srcPictureID == "error"){
                    $('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img src="'+srcImgURL_M +srcImglogoER_M+ +'.'+ srcImglogoER_M_T+'" style="height:' + srcImgHeight_M +'px;width:' + srcImgWidth_M +'px;">');
                } else {
                    $('.cmd[data-cmd_uid=#uid#] .iconCmd#id#').html('<img src="'+srcImgURL_M +srcPictureID+ '.png" style="height:' + srcImgHeight_M +'px;width:' + srcImgWidth_M +'px;">');
                }
            $('.cmd[data-cmd_uid=#uid#] .value#id#').empty().append(_options.display_value+' '+'#unite#');
            $('.cmd[data-cmd_id=#id#]').attr('title','Valeur du '+_options.valueDate+', collectée le '+_options.collectDate);
        }
        jeedom.cmd.update['#id#']({display_value:'#state#',valueDate:'#valueDate#',collectDate:'#collectDate#',alertLevel:'#alertLevel#'});
	</script>
</div>